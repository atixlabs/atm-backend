<template name="userProfile">
  {{#if user}} {{> userData user=user }} {{/if}}
</template>

<template name="userData">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      User Profile
    </h1>
  </section>

  <!-- Main content -->
  <section class="content">

    <div class="row">
      <div class="col-md-4">

        <!-- Profile Image -->
        <div class="box box-primary">
          <div class="box-body box-profile">
            <h3 class="profile-username text-center">{{user.personalInformation.fullName}}</h3>

            <p class="text-muted text-center">{{address}}</p>

            <ul class="list-group list-group-unbordered">
              <li class="list-group-item">
                <b>Email</b> <a class="pull-right">{{user.email}}</a>
              </li>
              <li class="list-group-item">
                <b>Phone</b> <a class="pull-right">{{user.personalInformation.phone}}</a>
              </li>
              <li class="list-group-item">
                <b>Birthdate</b> <a class="pull-right">{{birthdate}}</a>
              </li>
              <li class="list-group-item">
                <b>Max Allowed</b> <a class="pull-right">{{user.appData.maxAllowedWithdrawal}}</a>
              </li>
            </ul>

            <!--<a href="#" class="btn btn-primary btn-block"><b>Follow</b></a>-->
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
        <div class="info-box">
          <!-- Apply any bg-* class to to the icon to color it -->
          <span class="info-box-icon bg-red"><i class="fa fa-asterisk"></i></span>
          <div class="info-box-content">
            <span class="info-box-text">Tokens</span>
            <span class="info-box-number">{{state.tokens}}</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <div class="info-box">
          <!-- Apply any bg-* class to to the icon to color it -->
          <span class="info-box-icon bg-green"><i class="fa fa-commenting-o"></i></span>
          <div class="info-box-content">
            <span class="info-box-text">Requests</span>
            <span class="info-box-number">{{state.userRequests}}</span>
          </div>
          <!-- /.info-box-content -->
        </div>
      </div>
      <!-- /.col -->
      <div class="col-md-8">
        <div class="nav-tabs-custom">
          <ul class="nav nav-tabs">
            <li class="active"><a href="#activity" data-toggle="tab">Requests</a></li>
            <li><a href="#tokenEvents" data-toggle="tab">Token Events</a></li>
          </ul>
          <div class="tab-content">
            <div class="active tab-pane" id="activity">
            </div>
            <div class="tab-pane" id="tokenEvents">
              <div class="row">
                <div class="col-md-12">
                  {{> reactiveTable collection=userEvents settings=userEventsSettings filter=false}}
                </div>
              </div>
            </div>
            <!-- /.tab-pane -->
          </div>
          <!-- /.tab-content -->
        </div>
        <!-- /.nav-tabs-custom -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->

  </section>
  <!-- /.content -->
</template>